<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>NgWasm</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root></app-root>
</body>
<script>
  var Module = {
    onRuntimeInitialized: function() {
      // var wasmSumUp = Module.cwrap('sum_up', 'number', ['array', 'number'])
      var wasmSumUp = Module.cwrap('sum_up', 'number', ['array'])
      
      // This is actually pointless, where these Stackoverflow post
      // explains why this is: 
      // https://stackoverflow.com/questions/41875728/pass-a-javascript-array-as-argument-to-a-webassembly-function
      // https://stackoverflow.com/questions/41353389/how-can-i-return-a-javascript-string-from-a-webassembly-function
      // var becauseWasm = new Uint8Array(3);
      // becauseWasm[0] = 1;
      // becauseWasm[1] = 2;
      // becauseWasm[3] = 3;
      
      var arr = Uint8Array.from({ length: 1000 }, () => 1);

      // console.time()
      // console.log(
        // The below will return some giberish.
      //   wasmSumUp(becauseWasm, 3)
      // );
      // console.time()

      console.time()
      console.log(
        // The below will return some giberish.
        wasmSumUp(arr)
      );
      console.timeEnd()
      clearTimeout('default');
    },
    // Turns out, I don't need the below.
    locateFile: function(s) {
      return 'cpp/' + s;
    }
  }
</script>
<script src="cpp/webassembly.js"></script>
</html>